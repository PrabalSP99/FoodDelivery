{"ast":null,"code":"var _jsxFileName = \"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/src/components/Card.jsx\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useCart, useDispatchCart } from './ContextReducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Card = props => {\n  _s2();\n  var _s = $RefreshSig$();\n  const priceRef = useRef();\n  let options = props.option;\n  let priceOption = Object.keys(options);\n  let cartdata = useCart();\n  let dispatch = useDispatchCart();\n  const [qty, setqty] = useState(1);\n  const [size, setsize] = useState('');\n  const handleCart = async () => {\n    _s();\n    let food = [];\n    for (const item of cartdata) {\n      if (item.id === props.id) {\n        food = item;\n        break;\n      }\n      if (food !== []) {\n        if (food.size === size) {\n          await dispatch({\n            type: 'UPDATE',\n            id: props.id,\n            price: finalPrice,\n            qty: qty\n          });\n          return;\n        } else if (food.size !== size) {\n          await dispatch({\n            type: 'ADD',\n            id: props.id,\n            name: props.name,\n            img: props.img,\n            price: finalPrice,\n            qty: qty,\n            size: size\n          });\n        }\n      }\n      await dispatch({\n        type: 'ADD',\n        id: props.id,\n        name: props.name,\n        img: props.img,\n        price: finalPrice,\n        qty: qty,\n        size: size\n      });\n\n      // console.log(cartdata);\n    }\n\n    let finalPrice = qty * parseInt(options[size]);\n    useEffect(() => {\n      setsize(priceRef.current.value);\n    }, []);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card m-5\",\n        style: {\n          \"width\": \"18rem\",\n          \"maxHeight\": \"380px\",\n          backgroundColor: \"honeydew\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: props.img,\n          className: \"card-img-top\",\n          alt: \"...\",\n          style: {\n            height: \"200px\",\n            objectFit: \"cover\",\n            padding: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title\",\n            children: props.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container w-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"bg-success m-2 h-70 rounded\",\n              onChange: e => {\n                setqty(e.target.value);\n              },\n              children: Array.from(Array(4), (e, i) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: i + 1,\n                  children: i + 1\n                }, i + 1, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 40\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"bg-success m-2 h-70  rounded\",\n              ref: priceRef,\n              onChange: e => {\n                setsize(e.target.value);\n              },\n              children: priceOption.map(data => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: data,\n                  children: data\n                }, data, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 43\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-inline h-100 fs-5\",\n              children: [\" Rs\", finalPrice, \"/- \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `btn btn-success justify-center `,\n            onClick: handleCart,\n            children: \"Add to cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this);\n  };\n  _s(handleCart, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n};\n_s2(Card, \"6MwsT/6r0dUMzyr03L88hNh4n5c=\", false, function () {\n  return [useCart, useDispatchCart];\n});\n_c = Card;\nexport default Card;\nvar _c;\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCart","useDispatchCart","jsxDEV","_jsxDEV","Card","props","_s2","_s","$RefreshSig$","priceRef","options","option","priceOption","Object","keys","cartdata","dispatch","qty","setqty","size","setsize","handleCart","food","item","id","type","price","finalPrice","name","img","parseInt","current","value","children","className","style","backgroundColor","src","alt","height","objectFit","padding","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","Array","from","i","ref","map","data","onClick","_c","$RefreshReg$"],"sources":["/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/src/components/Card.jsx"],"sourcesContent":["import React, { useState,useRef,useEffect } from 'react'\nimport { useCart, useDispatchCart } from './ContextReducer';\n\n\nconst Card = (props) => {\n    \n    const priceRef = useRef();\n    let options = props.option;\n   let priceOption = Object.keys(options);\n\n    let cartdata =useCart();\n    let dispatch = useDispatchCart(); \n   \n   const [qty, setqty]= useState(1);\n   const [size,setsize]= useState('');\n\n\n    const handleCart=  async ()=>{\n    \n        let food =[]\n        for(const item of cartdata){ \n              if(item.id ===props.id){\n               food=item;\n                break;\n            }\n    \n        if(food!==[]){\n            if(food.size===size){\n                await dispatch({type:'UPDATE', id: props.id, price : finalPrice, qty:qty})\n                return\n            }\n            else if(food.size!==size){\n                await dispatch({type:'ADD', id:props.id, name: props.name, img:props.img, price:finalPrice, qty:qty, size:size})\n            }\n        }\n        await dispatch({type:'ADD', id:props.id, name: props.name, img:props.img, price:finalPrice, qty:qty, size:size})\n\n\n        // console.log(cartdata);\n    }\n\n   let finalPrice = qty * parseInt(options[size])\n\n    useEffect(()=>{\n        setsize(priceRef.current.value)\n    },[])\n\n    return (\n        <div>\n            <div className=\"card m-5\" style={{ \"width\": \"18rem\", \"maxHeight\": \"380px\",backgroundColor:\"honeydew\" }}>\n                <img src={props.img} className=\"card-img-top\" alt=\"...\" style={{height:\"200px\", objectFit:\"cover\",padding:'5px'}}/>\n                \n                <div className=\"card-body\">\n                    <h5 className='card-title'>{props.name}</h5>\n                    {/* <p className=\"card-text\">{props.des}</p> */}\n                    <div className='container w-100'>\n                        <select className='bg-success m-2 h-70 rounded' onChange={(e)=>{setqty(e.target.value)}}>\n                            {Array.from(Array(4), (e, i) => {\n                                return <option key={i + 1} value={i + 1}>{i + 1}</option>\n                            })}\n                        </select>\n                        <select className='bg-success m-2 h-70  rounded' ref ={priceRef} onChange={(e)=>{setsize(e.target.value)}}>\n                             {priceOption.map((data)=>{\n                                 return  (<option key={data} value={data}>{data}</option>)\n                             })}\n                        </select>\n                        <div className='d-inline h-100 fs-5'> Rs{finalPrice}/- </div>\n                        </div>\n                        <hr/>         \n                    <button className={`btn btn-success justify-center `} onClick={handleCart}>Add to cart</button>  \n                </div>\n            </div>     \n        </div>\n    )\n}\n}\n\nexport default Card;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}