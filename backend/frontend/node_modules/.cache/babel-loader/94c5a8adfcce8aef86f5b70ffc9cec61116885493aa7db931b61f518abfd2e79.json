{"ast":null,"code":"import _regeneratorRuntime from\"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport{useCart,useDispatchCart}from'../components/ContextReducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(){var Data=useCart();var dispatch=useDispatchCart();if(Data.length===0){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"m-5 w-100 text-center fs-3\",children:\"The Cart is Empty!\"})});}var handleRemove=function handleRemove(index){dispatch({type:\"REMOVE\",index:index});};var handleCheckOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var loginEmail;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:loginEmail=localStorage.getItem('userEmail');console.log(loginEmail);// fetched from login page//\nData.map(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(item){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:5000/orderdata',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:loginEmail,fdata:item,date:new Date().toDateString()})}).then(function(){dispatch({type:'DROP'});}).catch(function(err){console.log('error :',err);});case 2:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());case 3:case\"end\":return _context2.stop();}},_callee2);}));return function handleCheckOut(){return _ref.apply(this,arguments);};}();// useEffect(()=>{\n//   handleCheckOut();\n// },[])\nvar totalPrice=Data.reduce(function(total,item){return total+item.price;},0);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover \",children:[/*#__PURE__*/_jsx(\"thead\",{className:\" text-success fs-4\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Option\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Data.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.qty}),/*#__PURE__*/_jsx(\"td\",{children:item.size}),/*#__PURE__*/_jsx(\"td\",{children:item.price}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn p-0\",onClick:handleRemove,children:\"delete\"}),\" \"]})]});})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"fs-2\",children:[\"Total Price: \",totalPrice,\"/-\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn bg-success mt-5 \",onClick:function onClick(){return handleCheckOut();},children:\" Check Out \"})})]})});};export default Cart;","map":{"version":3,"names":["React","useCart","useDispatchCart","jsx","_jsx","jsxs","_jsxs","Cart","Data","dispatch","length","children","className","handleRemove","index","type","handleCheckOut","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","loginEmail","wrap","_callee2$","_context2","prev","next","localStorage","getItem","console","log","map","_ref2","_callee","item","_callee$","_context","fetch","method","headers","body","JSON","stringify","email","fdata","date","Date","toDateString","then","catch","err","stop","_x","apply","arguments","totalPrice","reduce","total","price","scope","name","qty","size","onClick"],"sources":["/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/src/screen/FoodCart.jsx"],"sourcesContent":["import React from 'react'\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {useCart,useDispatchCart} from '../components/ContextReducer'\n\n\n const Cart= ()=> {\n  const Data = useCart();\n  const dispatch = useDispatchCart();\n\n  if (Data.length === 0) {\n    return (\n      <div>\n        <div className='m-5 w-100 text-center fs-3'>The Cart is Empty!</div>\n      </div>\n    )\n  }\n  const handleRemove = (index)=>{\n    dispatch({type:\"REMOVE\",index:index})\n  }\n\n \n\n\n\n  const handleCheckOut = async()=>{\n   \n    const loginEmail = localStorage.getItem('userEmail')\n    console.log(loginEmail);\n    // fetched from login page//\n       \n    \n    Data.map(async(item)=>{\n      await fetch('http://localhost:5000/orderdata',{ \n      method :'POST',\n      headers: {\n              'Content-Type': 'application/json'\n            },\n     \n      body: JSON.stringify({ email:loginEmail, fdata: item , date: new Date().toDateString()})\n\n    }).then(()=>{\n        dispatch({type:'DROP'})\n      \n    }).catch((err)=>{\n      console.log('error :',err);\n    })\n     \n    })\n     \n  }\n  \n  // useEffect(()=>{\n  //   handleCheckOut();\n  // },[])\n \n   let totalPrice = Data.reduce((total, item) => total + item.price, 0)\n  return (\n    <div>\n      <div className='container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md' >\n        <table className='table table-hover '>\n          <thead className=' text-success fs-4'>\n            <tr>\n              <th scope='col' >#</th>\n              <th scope='col' >Name</th>\n              <th scope='col' >Quantity</th>\n              <th scope='col' >Option</th>\n              <th scope='col' >Amount</th>\n              <th scope='col' >Delete</th>\n            </tr>\n          </thead>\n          <tbody>\n           \n           \n            { \n              Data.map((item, index) => (\n              <tr>\n                <th scope='row' >{index + 1}</th>\n                <td >{item.name}</td>\n                <td>{item.qty}</td>\n                <td>{item.size}</td>\n                <td>{item.price}</td>\n                <td ><button type=\"button\" className=\"btn p-0\" onClick={handleRemove}>delete</button> </td>\n\n                </tr>\n            ))}\n          </tbody>\n        </table> \n        <div><h1 className='fs-2'>Total Price: {totalPrice}/-</h1></div>\n        <div>\n          <button className='btn bg-success mt-5 ' onClick={()=>handleCheckOut()}> Check Out </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Cart"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}