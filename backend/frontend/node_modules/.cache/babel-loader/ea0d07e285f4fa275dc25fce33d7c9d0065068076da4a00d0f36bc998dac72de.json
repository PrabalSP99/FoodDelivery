{"ast":null,"code":"import _regeneratorRuntime from\"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _createForOfIteratorHelper from\"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from'react';import{useCart,useDispatchCart}from'./ContextReducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=function Card(props){var priceRef=useRef();var options=props.option;var priceOption=Object.keys(options);var cartdata=useCart();var dispatch=useDispatchCart();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setqty=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),size=_useState4[0],setsize=_useState4[1];var handleCart=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var food,_iterator,_step,item;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:food=[];_iterator=_createForOfIteratorHelper(cartdata);_context.prev=2;_iterator.s();case 4:if((_step=_iterator.n()).done){_context.next=11;break;}item=_step.value;if(!(item.id===props.id)){_context.next=9;break;}food=item;return _context.abrupt(\"break\",11);case 9:_context.next=4;break;case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](2);_iterator.e(_context.t0);case 16:_context.prev=16;_iterator.f();return _context.finish(16);case 19:if(!(food!==[])){_context.next=31;break;}if(!(food.size===size)){_context.next=26;break;}_context.next=23;return dispatch({type:'UPDATE',id:props.id,price:finalPrice,qty:qty});case 23:return _context.abrupt(\"return\");case 26:if(!(food.size!==size)){_context.next=30;break;}_context.next=29;return dispatch({type:'ADD',id:props.id,name:props.name,img:props.img,price:finalPrice,qty:qty,size:size});case 29:return _context.abrupt(\"return\");case 30:return _context.abrupt(\"return\");case 31:_context.next=33;return dispatch({type:'ADD',id:props.id,name:props.name,img:props.img,price:finalPrice,qty:qty,size:size});case 33:case\"end\":return _context.stop();}},_callee,null,[[2,13,16,19]]);}));return function handleCart(){return _ref.apply(this,arguments);};}();var finalPrice=qty*parseInt(options[size]);useEffect(function(){setsize(priceRef.current.value);},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card m-5\",style:{\"width\":\"18rem\",\"maxHeight\":\"380px\",backgroundColor:\"honeydew\"},children:[/*#__PURE__*/_jsx(\"img\",{src:props.img,className:\"card-img-top\",alt:\"...\",style:{height:\"200px\",objectFit:\"cover\",padding:'5px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:props.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"bg-success m-2 h-70 rounded\",onChange:function onChange(e){setqty(e.target.value);},children:Array.from(Array(4),function(e,i){return/*#__PURE__*/_jsx(\"option\",{value:i+1,children:i+1},i+1);})}),/*#__PURE__*/_jsx(\"select\",{className:\"bg-success m-2 h-70  rounded\",ref:priceRef,onChange:function onChange(e){setsize(e.target.value);},children:priceOption.map(function(data){return/*#__PURE__*/_jsx(\"option\",{value:data,children:data},data);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline h-100 fs-5\",children:[\" Rs\",finalPrice,\"/- \"]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success justify-center \",onClick:handleCart,children:\"Add to cart\"})]})]})});};export default Card;","map":{"version":3,"names":["React","useState","useRef","useEffect","useCart","useDispatchCart","jsx","_jsx","jsxs","_jsxs","Card","props","priceRef","options","option","priceOption","Object","keys","cartdata","dispatch","_useState","_useState2","_slicedToArray","qty","setqty","_useState3","_useState4","size","setsize","handleCart","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","food","_iterator","_step","item","wrap","_callee$","_context","prev","next","_createForOfIteratorHelper","s","n","done","value","id","abrupt","t0","e","f","finish","type","price","finalPrice","name","img","stop","apply","arguments","parseInt","current","children","className","style","backgroundColor","src","alt","height","objectFit","padding","onChange","target","Array","from","i","ref","map","data","onClick"],"sources":["/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/src/components/Card.jsx"],"sourcesContent":["import React, { useState,useRef,useEffect } from 'react'\nimport { useCart, useDispatchCart } from './ContextReducer';\n\n\nconst Card = (props) => {\n    \n    const priceRef = useRef();\n    let options = props.option;\n   let priceOption = Object.keys(options);\n\n    let cartdata =useCart();\n    let dispatch = useDispatchCart(); \n   \n   const [qty, setqty]= useState(1);\n   const [size,setsize]= useState('');\n\n\n    const handleCart=  async ()=>{\n    \n        let food =[];\n        for(const item of cartdata){ \n              if(item.id ===props.id){\n               food=item;\n                break;\n            }\n        }\n        if(food!==[]){\n            if(food.size===size){\n                await dispatch({type:'UPDATE', id: props.id, price : finalPrice, qty:qty})\n                return\n            }\n            else if(food.size!==size){\n                await dispatch({type:'ADD', id:props.id, name: props.name, img:props.img, price:finalPrice, qty:qty, size:size})\n                return\n            }\n            return\n        }\n\n        await dispatch({type:'ADD', id:props.id, name: props.name, img:props.img, price:finalPrice, qty:qty, size:size})\n    }\n   \n   let finalPrice = qty * parseInt(options[size])\n\n    useEffect(()=>{\n        setsize(priceRef.current.value)\n    },[])\n\n    return (\n        <div>\n            <div className=\"card m-5\" style={{ \"width\": \"18rem\", \"maxHeight\": \"380px\",backgroundColor:\"honeydew\" }}>\n                <img src={props.img} className=\"card-img-top\" alt=\"...\" style={{height:\"200px\", objectFit:\"cover\",padding:'5px'}}/>\n                \n                <div className=\"card-body\">\n                    <h5 className='card-title'>{props.name}</h5>\n                    {/* <p className=\"card-text\">{props.des}</p> */}\n                    <div className='container w-100'>\n                        <select className='bg-success m-2 h-70 rounded' onChange={(e)=>{setqty(e.target.value)}}>\n                            {Array.from(Array(4), (e, i) => {\n                                return <option key={i + 1} value={i + 1}>{i + 1}</option>\n                            })}\n                        </select>\n                        <select className='bg-success m-2 h-70  rounded' ref ={priceRef} onChange={(e)=>{setsize(e.target.value)}}>\n                             {priceOption.map((data)=>{\n                                 return  (<option key={data} value={data}>{data}</option>)\n                             })}\n                        </select>\n                        <div className='d-inline h-100 fs-5'> Rs{finalPrice}/- </div>\n                        </div>\n                        <hr/>         \n                    <button className={`btn btn-success justify-center `} onClick={handleCart}>Add to cart</button>  \n                </div>\n            </div>     \n        </div>\n    )\n }\n\n\nexport default Card;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}