{"ast":null,"code":"import _defineProperty from\"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setdata=_useState2[1];var navigate=useNavigate();// render the data to the bckend  //\nvar handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"http://localhost:5000/users/login\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:data.email,password:data.password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;console.log(json);if(!json.success){alert(\"Enter valid credentials\");}else{localStorage.setItem('userEmail',data.email);localStorage.setItem('authtoken',json.token);navigate('/');}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();function handle(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setdata(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",value:data.email,onChange:handle,type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",value:data.password,onChange:handle,type:\"password\",className:\"form-control\",id:\"exampleInputPassword1\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"m-3 btn btn-success\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"m-3 btn btn-danger\",children:\" Not a user?\"})]})});}export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_useState","email","password","_useState2","_slicedToArray","data","setdata","navigate","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","json","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","console","log","success","alert","localStorage","setItem","token","stop","_x","apply","arguments","handle","event","_event$target","target","name","value","_objectSpread","_defineProperty","className","children","onSubmit","htmlFor","onChange","type","id","to"],"sources":["/Users/prabalparihar/Downloads/Project/MJ1_FD/fdapp/backend/frontend/src/screen/Login.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\n\n\n\nfunction Login() {\n\n  const [data, setdata] = useState({\n    email: '', password: ''\n  })\n\n  const navigate = useNavigate();\n\n  // render the data to the bckend  //\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const response = await fetch(\"http://localhost:5000/users/login\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ email: data.email, password: data.password })\n    })\n\n    const json = await response.json();\n    console.log(json)\n\n    if (!json.success) {\n      alert(\"Enter valid credentials\");\n    }\n    else{\n      localStorage.setItem('userEmail',data.email);\n      localStorage.setItem('authtoken',json.token);\n      navigate('/');\n    }\n    \n  }\n\n  function handle(event) {\n    const { name, value } = event.target;\n    setdata((prev) => {\n      return { ...prev, [name]: value }\n    })\n  }\n\n  return (\n    <div className='container'>\n      <form onSubmit={handleSubmit} >\n       \n        <div className=\"mb-3\">\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\n          <input name='email' value={data.email} onChange={handle} type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\n          <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n          <input name='password' value={data.password} onChange={handle} type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" />\n        </div>\n        <button type=\"submit\" className=\"m-3 btn btn-success\">Login</button>\n        <Link to='/signup' className='m-3 btn btn-danger'> Not a user?</Link>\n      </form>\n    </div>\n  )\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}